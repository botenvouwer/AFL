<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
	<head>
		<title>Animated checkboxes and radio buttons</title>
		<script src="jquery-2.0.3.js"></script>
		<style>
			body{
				font-family: arial;
			}
			
			.checkbox-canvas{
				width: 15px;
				height: 15px;
				border: 1px solid rgb(0, 0, 0);
				background: rgb(255, 255, 255);
				margin: 0px;
				padding: 0px;
			}
			
			.checkbox-canvas:hover{
				
			}
			
			.checkbox-canvas:focus{
				outline: none;
			}
			
			label{
				font-size: 16px;
				margin-left: 6px;
			}
			
			#myCanvas{
				border: 1px solid green;
				background: black;
			}
			
		</style>
		<script>
			$(document).ready(function(){
				
				$('input[type=checkbox]').each(function(key, checkbox){
					var id = $(this).attr('id');
					var canvasChekbox = '<canvas id="checkbox_canvas_'+id+'" class="checkbox-canvas" ></canvas>';
					
					$(this).after(canvasChekbox);
					$(this).css('display', 'none');
					
					if(!$(this).prop('checked')){
						$(this).prop('checked', false);
						$(canvasChekbox).removeClass('checked');
						resetCanvasCheckbox($('#checkbox_canvas_'+id));
					}
					else{
						$(this).prop('checked', true);
						$(this).addClass('checked');
						animateCanvasChekbox($('#checkbox_canvas_'+id));
					}
					
				});
				
				$('body').on('click', 'canvas.checkbox-canvas', function(){
					handleCanvasCheckbox(this);
				});
				
			});
			
			function handleCanvasCheckbox(checkBoxCanvas){
				
				var checkBoxCanvasID = $(checkBoxCanvas).attr('id');
					originalCheckboxID = checkBoxCanvasID.replace("checkbox_canvas_","");
				
				if($('#'+originalCheckboxID).prop('checked')){
					$('#'+originalCheckboxID).prop('checked', false);
					$(checkBoxCanvas).removeClass('checked');
					resetCanvasCheckbox(checkBoxCanvas);
				}
				else{
					$('#'+originalCheckboxID).prop('checked', true);
					$(checkBoxCanvas).addClass('checked');
					animateCanvasChekbox(checkBoxCanvas);
				}
				
			}
			
			function resetCanvasCheckbox(checkBoxCanvas){
				$(checkBoxCanvas).css('border', '1px solid');
			}
			
			function animateCanvasChekbox(checkBoxCanvas){
				
				$(checkBoxCanvas).css('border', '1px solid red');
				
			}
		</script>
		<script>
		
			var canvas = null;
			var context = null;
			var cue = [];
			var debugMode = true;
			
			$(document).ready(function(){
				canvas=document.getElementById("myCanvas");
				context=canvas.getContext("2d");
		
			
				/*// animated circle
				(function() {
				  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
				                              window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
				  window.requestAnimationFrame = requestAnimationFrame;
				})();
				 
				
				var canvas = document.getElementById('myCanvas');
				 var context = canvas.getContext('2d');
				 var x = canvas.width / 2;
				 var y = canvas.height / 2;
				 var radius = 50;
				 var endPercent = 110;
				 var curPerc = 0;
				 var circ = Math.PI * 2;
				 var quart = Math.PI / 2;
				
				 context.lineWidth = 2;
				 context.strokeStyle = '#ad2323';
				 context.shadowOffsetX = 0;
				 context.shadowOffsetY = 0;
				 context.shadowBlur = 10;
				 context.shadowColor = '#656565';
				
				
				 function animate(current) {
				     context.clearRect(0, 0, canvas.width, canvas.height);
				     context.beginPath();
				     context.arc(x, y, radius, -(quart), ((circ) * current) - quart, false);
				     context.stroke();
				     curPerc++;
				     if (curPerc < endPercent) {
				         requestAnimationFrame(function () {
				             animate(curPerc / 100);
				         });
				     }
				 }
					
				 animate();*/
				 
				
				drawAnimatedLine(10, 50, 10, 100, 10, 'yellow', 1);
				drawAnimatedLine(20, 50, 30, 0, 30, 'yellow', 2);
				drawAnimatedLine(10, 50, 40, 50, 0, 'white', 3);
				drawAnimatedLine(30, 80, 60, 80, 100, 'green', 8);
				//drawAnimatedLine(10, 40, 150, 180, 280);
				//drawAnimatedLine(10, 50, 30, 100, 200);
				//drawAnimatedLine(10, 130, 50, 200, 220);
				
			 });
			 
			
			
			function drawAnimatedLine(speed, fromx, fromy, tox, toy, color, lineWidth){
				
				key = -1 + (cue.length + 1);
				cue[key] = {
					'speed': speed,
					'fromx': fromx,
					'fromy': fromy,
					'tox': tox,
					'toy': toy,
					'color': color,
					'lineWidth': lineWidth,
					'done':false,
					'bussy':false
				};
				
				if(key == 0){
					AnimatedLine(speed, fromx, fromy, tox, toy, color, lineWidth, key);
				}
				
			}
			
			function animateNext(){
				$.each(cue, function(key, value){
					if(!value.done && !value.bussy){
						value.bussy = true;
						AnimatedLine(value.speed, value.fromx, value.fromy, value.tox, value.toy, value.color, value.lineWidth, key);
						return false;
					}
				});
			}
			
			function AnimatedLine(speed, fromX, fromY, toX, toY, color, lineWidth, cueKey){
				
				context.beginPath();
				context.lineWidth = lineWidth || 1;
				context.strokeStyle = color || 'white';
				
				var addX = 0;
				var addY = 0;
				
				var lineMode = '';
				var lineDirection = '';
				
				var betweenX = fromX - toX;
				var betweenY = fromY - toY;
				
				if(betweenX == 0 && betweenY == 0){
					console.log('can not write line X'+fromX+' Y'+fromY+' to X'+toX+' Y'+toY);
					console.log(betweenX + ' '+ betweenY);
					if(debugMode){
						console.log('stop');
					}
					cue[cueKey].done = true;
					animateNext();
					return;
				}
				else if(fromY == toY){
					lineMode = 'horizontal';
					addY = toY;
					
					if(betweenX > 0){
						lineDirection = 'N';
						addX = fromX + 1;
					}
					else{
						lineDirection = 'Z';
						addX = fromX - 1;
					}
					
					var stop = Math.abs(betweenX);
					
				}
				else if(fromX == toX){
					lineMode = 'vertical';
					addX = toX;
					
					if(betweenY > 0){
						lineDirection = 'O';
						addY = fromY + 1;
					}
					else{
						lineDirection = 'W';
						addY = fromY - 1;
					}
					
					var stop = Math.abs(betweenY);
				}
				else{
					lineMode = 'horizontalvertical';
					
					var lowest = (betweenx > betweeny ? betweeny : betweenx);
					var highest = (betweenx < betweeny ? betweeny : betweenx);
					
					var steps = highest / lowest;
					
					if(){
						lineDirection = '';
					}
					else if(){
						lineDirection = '';
					}
					else if(){
						lineDirection = '';
					}
					else if(){
						lineDirection = '';
					}
					
					
					
					var addX = 0;
					var addY = 0;
					
					if(betweenx > betweeny){
						addX = steps;
						addY = 1;
					}
					else{
						addX = 1;
						addY = steps;
					}
				}
				
				context.moveTo(fromX,fromY);
				
				if(debugMode){
					console.log('fromx:'+fromX);
					console.log('fromy:'+fromY);
					console.log('tox:'+toX);
					console.log('toy:'+toY);
					console.log('betweenx:'+betweenX);
					console.log('betweeny:'+betweenY);
					console.log('lineMode:'+lineMode);
					console.log('lineDirection:'+lineDirection);
					console.log('lineWidth:'+lineWidth);
					console.log('color:'+color);
					//console.log('lowest:'+lowest);
					//console.log('highest:'+highest);
					//console.log('steps:'+steps);
				}
				/*
				var a = 0;
				var addx = fromx + tx;
				var addy = fromy + ty;
				var animate = setInterval(function(){
					
					context.stroke();
					if(a == lowest){
						if(debugMode){
							console.log('stop');
						}	
						clearInterval(animate);
						cue[cueKey].done = true;
						animateNext();
						return;
					}
					if(debugMode){
						console.log('Drawing...');
					}
					a++;
					addy += ty;
					addx += tx;
				},speed);*/
				
				var a = 0;
				var animate = setInterval(function(){
					context.lineTo(addX, addY);
					context.stroke();
					if(a == stop){
						if(debugMode){
							console.log('stop');
						}	
						clearInterval(animate);
						cue[cueKey].done = true;
						animateNext();
						return;
					}
					if(debugMode){
						console.log('Drawing...');
					}
					a++;
					if(lineDirection == 'Z'){
						addX += 1;
					}
					else if(lineDirection == 'N'){
						addX -= 1;
					}
					else if(lineDirection == 'O'){
						addY -= 1;
					}
					else if(lineDirection == 'W'){
						addY += 1;
					}
					
					
				},speed);
			}
			
			$(document).ready(function(){
			 	function writeMessage(message) {
		        	$('#cor').html(message);
		      	}
		      function getMousePos(canvas, evt) {
		        var rect = canvas.getBoundingClientRect();
		        return {
		          x: evt.clientX - rect.left,
		          y: evt.clientY - rect.top
		        };
		      }
		      var canvas = document.getElementById('myCanvas');
		      var context = canvas.getContext('2d');

		      canvas.addEventListener('mousemove', function(evt) {
		        var mousePos = getMousePos(canvas, evt);
		        var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
		        writeMessage(message);
		      }, false);
			 });
		</script>
	</head>
	<body>
		<form action="test.php" method="POST">
			<input type="checkbox" id="test1" name="test[]" value="value1" ><label for="test1">Label1</label><br>
			<input type="checkbox" id="test2" name="test[]" value="value2" ><label for="test2">Label2</label><br>
			<input type="checkbox" id="test3" name="test[]" value="value3" checked ><label for="test3">Label3</label><br>
			<input type="checkbox" id="test4" name="test[]" value="value4" ><label for="test4">Label4</label><br>
			<input type="submit" value="Test">
		</form>
		<canvas id="myCanvas" width="100" height="100" ></canvas>
		<div id="cor"></div>
	</body>
</html>